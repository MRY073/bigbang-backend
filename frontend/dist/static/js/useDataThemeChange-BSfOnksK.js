import{k5 as w,p as M,k8 as P,jZ as F,U as j,a as E,fZ as b,k9 as q,fY as A,jS as g,ka as G,kb as W,kc as z,kd as D}from"./index-DUZ9GUvE.js";import{u as R}from"./app-D7ovMKpL.js";import{u as L}from"./epTheme-DnwvEsSO.js";function Z(){const{$storage:l,$config:e}=w(),p=()=>{var c,k,n,h,y,d,S,f,C,T,t,o,s,u,r,i,v;P().multiTagsCache&&(!l.tags||l.tags.length===0)&&(l.tags=F),l.locale||(l.locale={locale:(c=e==null?void 0:e.Locale)!=null?c:"zh"},j().locale.value=(k=e==null?void 0:e.Locale)!=null?k:"zh"),l.layout||(l.layout={layout:(n=e==null?void 0:e.Layout)!=null?n:"vertical",theme:(h=e==null?void 0:e.Theme)!=null?h:"light",darkMode:(y=e==null?void 0:e.DarkMode)!=null?y:!1,sidebarStatus:(d=e==null?void 0:e.SidebarStatus)!=null?d:!0,epThemeColor:(S=e==null?void 0:e.EpThemeColor)!=null?S:"#409EFF",themeColor:(f=e==null?void 0:e.Theme)!=null?f:"light",overallStyle:(C=e==null?void 0:e.OverallStyle)!=null?C:"light"}),l.configure||(l.configure={grey:(T=e==null?void 0:e.Grey)!=null?T:!1,weak:(t=e==null?void 0:e.Weak)!=null?t:!1,hideTabs:(o=e==null?void 0:e.HideTabs)!=null?o:!1,hideFooter:(s=e.HideFooter)!=null?s:!0,showLogo:(u=e==null?void 0:e.ShowLogo)!=null?u:!0,showModel:(r=e==null?void 0:e.ShowModel)!=null?r:"smart",multiTagsCache:(i=e==null?void 0:e.MultiTagsCache)!=null?i:!1,stretch:(v=e==null?void 0:e.Stretch)!=null?v:!1})},a=M(()=>l==null?void 0:l.layout.layout),m=M(()=>l.layout);return{layout:a,layoutTheme:m,initStorage:p}}function N(){var C,T;const{layoutTheme:l,layout:e}=Z(),p=E([{color:"#ffffff",themeColor:"light"},{color:"#1b2a47",themeColor:"default"},{color:"#722ed1",themeColor:"saucePurple"},{color:"#eb2f96",themeColor:"pink"},{color:"#f5222d",themeColor:"dusk"},{color:"#fa541c",themeColor:"volcano"},{color:"#13c2c2",themeColor:"mingQing"},{color:"#52c41a",themeColor:"auroraGreen"},{color:"#ff6ec7",themeColor:"dopamine"}]),{$storage:a}=w(),m=E((C=a==null?void 0:a.layout)==null?void 0:C.darkMode),c=E((T=a==null?void 0:a.layout)==null?void 0:T.overallStyle),k=document.documentElement;function n(t,o,s){const u=s||document.body;let{className:r}=u;r=r.replace(o,"").trim(),u.className=t?`${r} ${o}`:r}function h(t=(s=>(s=b().Theme)!=null?s:"light")(),o=!0){var r,i;l.value.theme=t,document.documentElement.setAttribute("data-theme",t);const u=a.layout.themeColor;if(a.layout={layout:e.value,theme:t,darkMode:m.value,sidebarStatus:(r=a.layout)==null?void 0:r.sidebarStatus,epThemeColor:(i=a.layout)==null?void 0:i.epThemeColor,themeColor:o?t:u,overallStyle:c.value},t==="default"||t==="light")d(b().EpThemeColor);else{const v=p.value.find(H=>H.themeColor===t);d(v.color)}}function y(t,o,s){document.documentElement.style.setProperty(`--el-color-primary-${t}-${o}`,m.value?z(s,o/10):D(s,o/10))}const d=t=>{L().setEpThemeColor(t),document.documentElement.style.setProperty("--el-color-primary",t);for(let o=1;o<=2;o++)y("dark",o,t);for(let o=1;o<=9;o++)y("light",o,t)};function S(t){c.value=t,L().epTheme==="light"&&m.value?h("default",!1):h(L().epTheme,!1),m.value?document.documentElement.classList.add("dark"):(a.layout.themeColor==="light"&&h("light",!1),document.documentElement.classList.remove("dark"))}function f(){q(),A().clear();const{Grey:t,Weak:o,MultiTagsCache:s,EpThemeColor:u,Layout:r}=b();R().setLayout(r),d(u),g().multiTagsCacheChange(s),n(t,"html-grey",document.querySelector("html")),n(o,"html-weakness",document.querySelector("html")),G.push("/login"),g().handleTags("equal",[...F]),W()}return{body:k,dataTheme:m,overallStyle:c,layoutTheme:l,themeColors:p,onReset:f,toggleClass:n,dataThemeChange:S,setEpThemeColor:d,setLayoutThemeColor:h}}export{Z as a,N as u};
