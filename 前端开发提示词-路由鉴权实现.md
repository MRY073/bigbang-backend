# 前端路由鉴权实现提示词

## 后端鉴权说明

后端使用基于 Cookie 的 token 鉴权：
- Token 存储在 HTTP-only Cookie 中（`auth_token`）
- 所有业务接口都需要鉴权（除 `/auth/login` 外）
- 未登录或 token 无效时返回 401 错误

## 后端接口

- `POST /auth/login` - 登录（不需要鉴权）
- `GET /auth/me` - 检查登录状态（不需要鉴权，用于前端验证）
- `POST /refresh-token` - 刷新 token（不需要鉴权）

## 前端实现要求

1. **路由守卫**：在路由跳转前检查登录状态（调用 `/auth/me`）
2. **请求拦截器**：所有 API 请求自动携带 Cookie（`credentials: 'include'`）
3. **响应拦截器**：处理 401 错误，自动跳转到登录页
4. **登录成功后**：Cookie 会自动设置，无需手动存储 token

## 关键点

- 所有请求必须设置 `credentials: 'include'`（fetch）或 `withCredentials: true`（axios）
- 使用 `/auth/me` 接口检查登录状态
- 401 错误时跳转到登录页

